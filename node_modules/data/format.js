(function () {
  const assert = require('assert')

  module.exports = {
    pad(string, width, pad=' ', position=1) {
      string = string || ''
      assert(0 <= position && position <= 1)
      if (string.length < width) {
        const total = width - string.length
        const left = Math.round((1 - position) * total)
        return pad.repeat(left) + string + pad.repeat(total - left)
      }
      else return string
    },

    formatter(width, precision) {
      const pad = ' '.repeat(width)
      const len = width + precision + 1
      const fmt = num => {
        if (Number.isFinite(num))
          return (pad + num.toFixed(precision)).slice(-len)
        else if (num) {
          const ret = num.toString()
          return ret + ' '.repeat(Math.max(0, len - ret.length))
        }
        else
          return ' '.repeat(len)
      }
      fmt.width = len
      return fmt
    },

  }

}).call(this)
